"use strict";function parseUserData(e,s){var n=$('<div class="user-container">');s?(n.append($('<div class="user-logo">').append($('<img src="'+e.stream.channel.logo+'" alt="'+e.stream.channel.name+' avatar">'))),n.append($('<div class="user-text">').append($("<h4>"+e.stream.channel.name+"</h4>"))),n.append($('<div class="user-remove">').append($('<a href="#"><i class="fa fa-times-circle" aria-hidden="true"></i></a>'))),$("#users-online").append($('<div class="collapse-user collapse in">').append(n))):s===!1?(n.append($("<h4>"+e.display_name+"</h4>")),$("#users-offline").append(n)):$("#users-offline").append(n).append("<h4>"+e+"</h4><p>This user no longer exists.</p>")}function getOfflineUser(e){$.ajax({dataType:"jsonp",url:e,success:function(e){parseUserData(e,!1)},error:function(e){console.log(e)}})}function updateUserList(){$.each(userList,function(e,s){$.ajax({dataType:"jsonp",url:"https://api.twitch.tv/kraken/streams/"+s,success:function(e){e.hasOwnProperty("error")?parseUserData(s,null):null===e.stream?getOfflineUser(e._links.channel):parseUserData(e,!0)},error:function(e){console.log(e)}})})}var userList=[];$(document).ready(function(){var e="esl_sc2, ogamingsc2, cretetion, freecodecamp, storbeck, habathcx, robotcaleb, noobs2ninjas, brunofin, comster404";localStorage.hasOwnProperty("userList")?(console.log("Found Local List"),userList=localStorage.getItem("userList").split(", "),console.log(userList)):(console.log("Initializing List"),localStorage.setItem("userList",e),userList=e.split(", ")),updateUserList(),$("#btn-online").on("click",function(e){e.preventDefault(),$("#caret-online").toggleClass("open")}),$("#btn-offline").on("click",function(e){e.preventDefault(),$("#caret-offline").toggleClass("open")}),$("#collapse-user-list").on("hidden.bs.collapse",".collapse-user",function(){$(this).remove()}),$("#collapse-user-list").on("click",".user-remove>a",function(e){e.preventDefault();var s=$(this).closest(".collapse-user");s.collapse("hide"),userList.splice(userList.indexOf($(this).closest(".user-container").find("h4").html()),1),localStorage.setItem("userList",userList.join(", "))}),$("#btn-reset").on("click",function(s){console.log("Resetting List"),localStorage.setItem("userList",e),userList=e.split(", "),console.log(userList)})});